<dialog *ngIf="visible" class="modal" open>
  <div class="modal-box bg-base-100 max-w-sm rounded-lg shadow-md relative"> <!-- add relative positioning -->
    
    <!-- Top right icon button -->
<button
  class="btn btn-ghost btn-sm btn-circle absolute top-4 right-4 p-0"
  aria-label="Edit Playlists"
  (click)="navigateToPlaylists()"
  title="Edit Playlists"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-4 w-4"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z" />
    <path d="m15 5 4 4" />
  </svg>
</button>


    <h3 class="font-semibold text-lg text-center mb-4 pb-2 tracking-wide" style="letter-spacing: 0.03em;">
      Add to Playlist
    </h3>

    <form (ngSubmit)="save()" class="max-h-48 overflow-y-auto mb-4 px-2">
      <div class="form-control mb-2" *ngFor="let playlist of sortedPlaylists; trackBy: trackBySlug">
        <label class="label cursor-pointer flex items-center space-x-3">
          <input type="checkbox" class="checkbox checkbox-sm" [(ngModel)]="playlist.checked" name="{{ playlist.slug }}" />
          <span class="label-text text-base select-none">
            {{ playlist.title }}
          </span>
        </label>
      </div>
    </form>

    <div class="modal-action flex justify-center space-x-4 px-2">
      <button class="btn btn-secondary" (click)="closeModal()">Cancel</button>
      <button class="btn btn-primary" (click)="save()">Save</button>
      <!-- Optional: you can keep or remove this Edit Playlists button here -->
    </div>
  </div>
</dialog>
