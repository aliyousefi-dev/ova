import{d as a}from"./chunk-4CLCTAJ7.js";var u=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,c=new Map,o=new Map;function f(e){let n=e.match(u);return{videoId:n?.[1],hash:n?.[2]}}function g(e,n,s){return a(this,null,function*(){if(c.has(e))return c.get(e);if(o.has(e))return o.get(e);let i=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${e}`;s&&(i=i.concat(`?h=${s}`));let r=window.fetch(i,{mode:"cors",signal:n.signal}).then(t=>t.json()).then(t=>{let l=/vimeocdn.com\/video\/(.*)?_/,h=t?.thumbnail_url?.match(l)?.[1],p=h?`https://i.vimeocdn.com/video/${h}_1920x1080.webp`:"",m={title:t?.title??"",duration:t?.duration??0,poster:p,pro:t.account_type!=="basic"};return c.set(e,m),m}).finally(()=>o.delete(e));return o.set(e,r),r})}export{f as a,g as b};
